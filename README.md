# Fence Quote Agent ğŸªš

An AI-assisted tool that helps a handyperson quickly generate accurate, consistent fence-building quotes.

Given a small set of inputs (number of 6-foot sections, labor hours, hourly rate, and materials markup), the agent:

1. Computes a bill of materials (posts, rails, pickets, concrete, fasteners).
2. Compares prices between Home Depot and Loweâ€™s.
3. Picks the cheaper store.
4. Combines materials + labor into a structured quote.
5. Uses an LLM to generate a customer-friendly quote you can send as-is.

This repo is part of a capstone assignment for the **UW Specialization in AI Product Management**.

---

## âœ¨ Features

- **Bill of Materials (BOM) Calculation**
  - Posts, rails, pickets, concrete bags, and fasteners estimated from number of 6' sections.
  - Config-driven quantities (easy to adjust as the contractor refines their approach).

- **Price Comparison**
  - Per-material prices for Home Depot and Loweâ€™s.
  - Automatically chooses the cheaper store for the whole job.

- **Structured Quote Calculation**
  - Materials base cost + markup.
  - Labor cost (hours Ã— hourly rate).
  - Grand total (tax currently set to 0, but easy to parameterize).

- **Customer-Ready Quote (via LLM)**
  - Friendly greeting.
  - Simple explanation of scope (e.g., â€œ6 sections of 6-foot fenceâ€).
  - Clear breakdown of materials and labor.
  - Total cost, scheduling note, and quote validity period.

---

## ğŸ§± Project Structure

```text
fence_agent/
â”œâ”€ fence_agent.py      # Main script: BOM, pricing, quote logic, and LLM call
â”œâ”€ requirements.txt    # Python dependencies
â”œâ”€ .gitignore          # Ignore venv, __pycache__, etc.
â””â”€ venv/               # Local virtual environment (not committed)

Absolutely â€” here is the entire middle section of your README, **from â€œğŸš€ Getting Startedâ€ through â€œğŸ§ª Notesâ€¦â€**, fully formatted in clean Markdown and ready to paste directly into your repo.

---

## ğŸš€ Getting Started

### **1. Prerequisites**

* macOS or Linux
* Python **3.12**

  * Install via Homebrew:

    ```bash
    brew install python@3.12
    ```
* An OpenAI API key

  * Create one here:
    [https://platform.openai.com/settings/organization/api-keys](https://platform.openai.com/settings/organization/api-keys)

---

### **2. Clone the Repository**

```bash
git clone https://github.com/briettaeasterlin/fence-quote-agent.git
cd fence-quote-agent
```

---

### **3. Create & Activate a Virtual Environment**

```bash
python3.12 -m venv venv
source venv/bin/activate
```

Youâ€™ll know it worked if your terminal prompt starts with:

```
(venv)
```

---

### **4. Install Dependencies**

```bash
pip install -r requirements.txt
```

---

### **5. Set Your OpenAI API Key**

```bash
export OPENAI_API_KEY="sk-...your-real-key..."
```

âš ï¸ **Do not commit this key to GitHub.**

---

### **6. Run the Agent**

```bash
python fence_agent.py
```

Sample interaction:

```
Fence Quote Agent
------------------
Number of 6-foot sections: 6
Estimated labor hours: 14
Hourly labor rate (e.g., 75): 45
Materials markup % (e.g., 15): 25
Customer name (optional): Test Customer 1
```

The tool will output:

1. Internal structured quote (for the contractor)
2. A polished, customer-ready quote generated by the LLM

---

## ğŸ§  Architecture Overview

This project uses a simple but effective **agent + tools** pattern.

### **Agent Role: â€œFence Quote Assistantâ€**

The agent acts like a fence contractor who:

* Computes materials
* Selects the cheapest store
* Calculates project totals
* Generates homeowner-friendly quote text
* Never alters numeric values

### **Tools (Python Functions)**

| Tool                             | Purpose                                                                   |
| -------------------------------- | ------------------------------------------------------------------------- |
| `compute_bom()`                  | Calculates posts, rails, pickets, concrete, screws based on section count |
| `price_bom()`                    | Compares Home Depot vs. Loweâ€™s pricing and chooses the cheaper store      |
| `compute_quote()`                | Adds markup, calculates labor and grand total                             |
| `make_customer_friendly_quote()` | Calls the LLM to generate a clean quote for the homeowner                 |

### **Flow**

```
Inputs â†’ compute_bom â†’ price_bom â†’ compute_quote â†’ LLM (formatting) â†’ Final Quote
```

### **Why This Approach Works**

* **Deterministic logic** handles all math â†’ predictable and auditable
* **LLM** only generates natural-language output
* Compatible with **CrewAI** (each function = agent tool)

---

## ğŸ“Š Example Output

### **Internal Data Example**

```python
{
  'num_sections': 6,
  'chosen_store': "Lowe's",
  'materials': {
    'base_total': 435.9,
    'markup_pct': 25.0,
    'total_with_markup': 544.88,
    'line_items': [...]
  },
  'labor': {
    'hours': 14.0,
    'rate': 45.0,
    'total': 630.0
  },
  'grand_total': 1174.88
}
```

### **Customer-Facing Example**

```
Hello Test Customer 1,

Thank you for considering us for your fencing projectâ€¦
Materials (with markup): $544.88
Labor: $630.00
Total: $1,174.88
Quote valid for 30 daysâ€¦
```

---

## ğŸ”® Future Improvements

* Store prices in JSON instead of code
* Support fence height variations
* Add gate support (count, size, hardware)
* Add fence removal/demolition costs
* Add an API (FastAPI) and optional web UI
* Save quote history to SQLite / Postgres
* Integrate real Home Depot / Loweâ€™s price APIs

---

## ğŸ§ª Notes for the UW AI Product Management Capstone

This repository serves as the working prototype for the capstone assignment. It demonstrates:

* **Agent design thinking**
* **Tool-based architecture** compatible with CrewAI
* A working **end-to-end AI agent prototype**
* **Validation scenarios** and success metrics
* A clear **path to scale** with minimal cost
* Realistic application for small-business tradespeople

The agent is intentionally simple, cheap to run, and easy to extend â€” ideal for illustrating practical AI product management principles.
